<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ResumeCraft | Download Your Resume</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        /* Global Styles */
        :root {
            --primary-color: #4361ee;
            --secondary-color: #3f37c9;
            --accent-color: #4cc9f0;
            --light-color: #f8f9fa;
            --dark-color: #212529;
            --success-color: #4bb543;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7ff;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header Styles */
        header {
            padding: 20px 0;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
        }
        
        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }
        
        .logo i {
            margin-right: 10px;
            font-size: 28px;
        }
        
        /* Main Content */
        .download-content {
            margin-top: 100px;
            padding: 60px 0;
            text-align: center;
        }
        
        .page-title {
            margin-bottom: 40px;
        }
        
        .page-title h1 {
            font-size: 2.5rem;
            color: var(--dark-color);
            margin-bottom: 15px;
        }
        
        .page-title p {
            font-size: 1.1rem;
            color: #666;
            max-width: 700px;
            margin: 0 auto;
        }
        
        /* Preview Container */
        .preview-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 50px;
        }
        
        .resume-preview {
            width: 100%;
            max-width: 800px;
            background-color: white;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.1);
            padding: 40px;
            margin-bottom: 30px;
            min-height: 1123px; /* A4 height at 96dpi */
        }
        
        /* Modern Professional Template Styles */
        .resume-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--primary-color);
        }
        
        .resume-name {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--dark-color);
            margin-bottom: 5px;
        }
        
        .resume-title {
            font-size: 1.2rem;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .resume-contact {
            text-align: right;
        }
        
        .resume-contact p {
            margin-bottom: 5px;
            color: #555;
        }
        
        .resume-section {
            margin-bottom: 25px;
        }
        
        .section-header {
            font-size: 1.3rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
            padding-bottom: 5px;
            border-bottom: 1px solid #eee;
        }
        
        .resume-item {
            margin-bottom: 20px;
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
        }
        
        .item-title {
            font-weight: 600;
            font-size: 1.1rem;
        }
        
        .item-subtitle {
            color: #555;
            margin-bottom: 5px;
        }
        
        .item-date {
            color: #777;
            font-style: italic;
        }
        
        .item-description {
            color: #444;
            line-height: 1.5;
        }
        
        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .skill-pill {
            background-color: #e3f2fd;
            color: var(--primary-color);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
        }
        
        /* Download Options */
        .download-options {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }
        
        .download-card {
            background-color: white;
            border-radius: 10px;
            padding: 30px;
            width: 280px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
            transition: all 0.3s;
        }
        
        .download-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }
        
        .download-icon {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }
        
        .download-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: var(--dark-color);
        }
        
        .download-card p {
            color: #666;
            margin-bottom: 20px;
            font-size: 0.9rem;
        }
        
        .download-btn {
            display: inline-block;
            width: 100%;
            padding: 12px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        
        .download-btn:hover {
            background-color: var(--secondary-color);
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .btn {
            padding: 15px 30px;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1rem;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .btn-outline {
            background-color: transparent;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-outline:hover {
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
            border: 2px solid var(--primary-color);
        }
        
        .btn-primary:hover {
            background-color: var(--secondary-color);
            border-color: var(--secondary-color);
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .download-content {
                margin-top: 80px;
                padding: 40px 0;
            }
            
            .page-title h1 {
                font-size: 2rem;
            }
            
            .resume-preview {
                padding: 20px;
            }
            
            .resume-name {
                font-size: 1.8rem;
            }
            
            .download-options {
                flex-direction: column;
                align-items: center;
            }
        }
        
        @media (max-width: 576px) {
            .resume-header {
                flex-direction: column;
            }
            
            .resume-contact {
                text-align: left;
                margin-top: 15px;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container">
            <nav>
                <a href="#" class="logo">
                    <i class="fas fa-file-alt"></i>
                    ResumeCraft
                </a>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="download-content">
        <div class="container">
            <div class="page-title">
                <h1>Download Your Resume</h1>
                <p>Your professional resume is ready! Choose your preferred format below.</p>
            </div>
            
            <!-- Resume Preview -->
            <div class="preview-container">
                <div class="resume-preview" id="resumeToPrint">
                    <!-- This will be populated with the resume content -->
                    <div class="resume-header">
                        <div>
                            <h1 class="resume-name" id="previewName">John Doe</h1>
                            <h2 class="resume-title" id="previewTitle">Software Engineer</h2>
                        </div>
                        <div class="resume-contact">
                            <p id="previewEmail">john.doe@example.com</p>
                            <p id="previewPhone">(123) 456-7890</p>
                            <p id="previewAddress">San Francisco, USA</p>
                            <p id="previewLinkedIn">linkedin.com/in/johndoe</p>
                        </div>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Professional Summary</h3>
                        <p class="item-description" id="previewSummary">Experienced software engineer with 5+ years of expertise in web development, specializing in JavaScript frameworks. Passionate about creating efficient, scalable applications with clean code.</p>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Education</h3>
                        <div id="previewEducation">
                            <div class="resume-item">
                                <div class="item-header">
                                    <span class="item-title">Stanford University</span>
                                    <span class="item-date">15-08-2015 - 20-05-2019</span>
                                </div>
                                <div class="item-subtitle">Bachelor of Science in Computer Science</div>
                                <p class="item-description">Graduated with honors. Specialized in Artificial Intelligence and Web Technologies.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Work Experience</h3>
                        <div id="previewExperience">
                            <div class="resume-item">
                                <div class="item-header">
                                    <span class="item-title">Tech Solutions Inc.</span>
                                    <span class="item-date">01-06-2019 - Present</span>
                                </div>
                                <div class="item-subtitle">Senior Software Engineer</div>
                                <p class="item-description">Lead developer for company's flagship product. Implemented new features using React and Node.js, improving performance by 40%.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Skills</h3>
                        <div class="skills-list" id="previewSkills">
                            <span class="skill-pill">JavaScript</span>
                            <span class="skill-pill">React</span>
                            <span class="skill-pill">Node.js</span>
                            <span class="skill-pill">HTML/CSS</span>
                            <span class="skill-pill">Git</span>
                            <span class="skill-pill">Problem Solving</span>
                            <span class="skill-pill">Team Leadership</span>
                        </div>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Projects</h3>
                        <div id="previewProjects">
                            <div class="resume-item">
                                <div class="item-header">
                                    <span class="item-title">E-commerce Platform</span>
                                    <span class="item-date">01-01-2020 - 15-07-2020</span>
                                </div>
                                <div class="item-subtitle"><a href="https://example.com" target="_blank">example.com</a></div>
                                <p class="item-description">Developed a full-stack e-commerce solution with React frontend and Node.js backend. Implemented payment processing and inventory management.</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="resume-section">
                        <h3 class="section-header">Achievements</h3>
                        <div id="previewAchievements">
                            <div class="resume-item">
                                <div class="item-header">
                                    <span class="item-title">Employee of the Year</span>
                                    <span class="item-date">2021</span>
                                </div>
                                <p class="item-description">Recognized for outstanding contributions to company projects and team leadership.</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Download Options -->
            <div class="download-options">
                <div class="download-card">
                    <div class="download-icon">
                        <i class="fas fa-file-pdf"></i>
                    </div>
                    <h3>PDF Format</h3>
                    <p>Best for printing and professional applications. Maintains perfect formatting.</p>
                    <button class="download-btn" onclick="generatePDF()">
                        <i class="fas fa-download"></i> Download PDF
                    </button>
                </div>
                
                <div class="download-card">
                    <div class="download-icon">
                        <i class="fas fa-file-word"></i>
                    </div>
                    <h3>Word Document</h3>
                    <p>Editable format for further customization in Microsoft Word.</p>
                    <button class="download-btn" onclick="downloadWord()">
                        <i class="fas fa-download"></i> Download DOCX
                    </button>
                </div>
                
                <div class="download-card">
                    <div class="download-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <h3>Plain Text</h3>
                    <p>Simple text format for online forms and applicant tracking systems.</p>
                    <button class="download-btn" onclick="downloadText()">
                        <i class="fas fa-download"></i> Download TXT
                    </button>
                </div>
            </div>
            
            <!-- Action Buttons -->
            <div class="action-buttons">
                <a href="#" class="btn btn-outline">
                    <i class="fas fa-edit"></i> Edit Resume
                </a>
                <a href="#" class="btn btn-primary">
                    <i class="fas fa-share-alt"></i> Share Resume
                </a>
            </div>
        </div>
    </main>

    <script>
        // Generate PDF function
        function generatePDF() {
            const element = document.getElementById('resumeToPrint');
            const opt = {
                margin: 10,
                filename: 'my_resume.pdf',
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            // Show loading state
            const btn = event.target;
            const originalText = btn.innerHTML;
            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Generating PDF...';
            btn.disabled = true;
            
            // Generate PDF
            html2pdf().set(opt).from(element).save().then(() => {
                // Restore button state
                btn.innerHTML = originalText;
                btn.disabled = false;
            });
        }
        
        // Download Word function (simulated)
        function downloadWord() {
            // In a real app, this would generate an actual DOCX file
            // For this demo, we'll just show an alert
            alert('In a real application, this would download a Word document. This demo only supports PDF download.');
            
            // Here's how you might implement it for real:
            // You would need a library like docx.js or a server-side solution
            /*
            const { Document, Paragraph, Packer, TextRun } = docx;
            const doc = new Document({
                sections: [{
                    properties: {},
                    children: [
                        new Paragraph({
                            children: [
                                new TextRun("My Resume"),
                                new TextRun({
                                    text: "John Doe",
                                    bold: true
                                }),
                                // Add more content here
                            ]
                        })
                    ]
                }]
            });
            
            Packer.toBlob(doc).then(blob => {
                saveAs(blob, "my_resume.docx");
            });
            */
        }
        
        // Download Text function
        function downloadText() {
            // Get all text content from the resume
            const resumeText = document.getElementById('resumeToPrint').innerText;
            
            // Create blob and download
            const blob = new Blob([resumeText], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'my_resume.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // In a real application, you would:
        // 1. Get the resume data from your form or database
        // 2. Populate this preview with the actual user data
        // 3. Generate the downloads based on that data
        
        // For this demo, we'll simulate loading saved data
        document.addEventListener('DOMContentLoaded', function() {
            // Check if there's saved data in localStorage
            const savedData = localStorage.getItem('resumeData');
            if (savedData) {
                const data = JSON.parse(savedData);
                populatePreview(data);
            }
        });
        
        // Function to populate preview with data
        function populatePreview(data) {
            // Personal Information
            if (data.firstName || data.lastName) {
                document.getElementById('previewName').textContent = `${data.firstName} ${data.lastName}`;
            }
            if (data.profession) {
                document.getElementById('previewTitle').textContent = data.profession;
            }
            if (data.email) {
                document.getElementById('previewEmail').textContent = data.email;
            }
            if (data.phone) {
                document.getElementById('previewPhone').textContent = data.phone;
            }
            if (data.city || data.country) {
                document.getElementById('previewAddress').textContent = `${data.city}, ${data.country}`;
            }
            if (data.linkedin) {
                document.getElementById('previewLinkedIn').textContent = data.linkedin.replace('https://', '').replace('www.', '');
            }
            if (data.summary) {
                document.getElementById('previewSummary').textContent = data.summary;
            }
            
            // Education
            if (data.education && data.education.length > 0) {
                const container = document.getElementById('previewEducation');
                container.innerHTML = '';
                
                data.education.forEach(edu => {
                    const eduHTML = `
                        <div class="resume-item">
                            <div class="item-header">
                                <span class="item-title">${edu.institution || 'Institution Name'}</span>
                                <span class="item-date">${edu.startDate || 'Start Date'} - ${edu.endDate || 'End Date'}</span>
                            </div>
                            <div class="item-subtitle">${edu.degree || 'Degree'}${edu.field ? ` in ${edu.field}` : ''}</div>
                            ${edu.description ? `<p class="item-description">${edu.description}</p>` : ''}
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', eduHTML);
                });
            }
            
            // Experience
            if (data.experience && data.experience.length > 0) {
                const container = document.getElementById('previewExperience');
                container.innerHTML = '';
                
                data.experience.forEach(exp => {
                    const expHTML = `
                        <div class="resume-item">
                            <div class="item-header">
                                <span class="item-title">${exp.company || 'Company Name'}</span>
                                <span class="item-date">${exp.startDate || 'Start Date'} - ${exp.endDate || 'End Date'}</span>
                            </div>
                            <div class="item-subtitle">${exp.position || 'Position Title'}</div>
                            ${exp.description ? `<p class="item-description">${exp.description}</p>` : ''}
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', expHTML);
                });
            }
            
            // Skills
            if (data.technicalSkills || data.softSkills || data.languages || data.tools) {
                const container = document.getElementById('previewSkills');
                container.innerHTML = '';
                
                // Combine all skills
                const allSkills = [
                    ...(data.technicalSkills ? data.technicalSkills.split(', ') : []),
                    ...(data.softSkills ? data.softSkills.split(', ') : []),
                    ...(data.languages ? data.languages.split(', ') : []),
                    ...(data.tools ? data.tools.split(', ') : [])
                ];
                
                // Add to preview
                allSkills.forEach(skill => {
                    if (skill) {
                        const skillHTML = `<span class="skill-pill">${skill}</span>`;
                        container.insertAdjacentHTML('beforeend', skillHTML);
                    }
                });
            }
            
            // Projects
            if (data.projects && data.projects.length > 0) {
                const container = document.getElementById('previewProjects');
                container.innerHTML = '';
                
                data.projects.forEach(proj => {
                    const projHTML = `
                        <div class="resume-item">
                            <div class="item-header">
                                <span class="item-title">${proj.name || 'Project Name'}</span>
                                <span class="item-date">${proj.startDate || 'Start Date'} - ${proj.endDate || 'End Date'}</span>
                            </div>
                            ${proj.url ? `<div class="item-subtitle"><a href="${proj.url}" target="_blank">${proj.url}</a></div>` : ''}
                            ${proj.description ? `<p class="item-description">${proj.description}</p>` : ''}
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', projHTML);
                });
            }
            
            // Achievements
            if (data.achievements && data.achievements.length > 0) {
                const container = document.getElementById('previewAchievements');
                container.innerHTML = '';
                
                data.achievements.forEach(ach => {
                    const achHTML = `
                        <div class="resume-item">
                            <div class="item-header">
                                <span class="item-title">${ach.title || 'Achievement Title'}</span>
                                <span class="item-date">${ach.date || 'Date'}</span>
                            </div>
                            ${ach.description ? `<p class="item-description">${ach.description}</p>` : ''}
                        </div>
                    `;
                    container.insertAdjacentHTML('beforeend', achHTML);
                });
            }
        }
    </script>
</body>
</html>